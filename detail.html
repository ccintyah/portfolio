<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title data-i18n="page_title">Detail â€” Portfolio</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <header></header>

    <script src="js/script.js"></script>
    <script>
      // render detail based on query param id
      (function () {
        const params = new URLSearchParams(window.location.search);
        const id = params.get("id") || "1";
        // map id -> image and translation keys
        const projects = {
          1: {
            img: "gambar/reborn poster.jpg",
            titleKey: "project1_title",
            descKey: "project1_desc",
          },
          2: {
            img: "gambar/pensi mb 2026.jpg",
            titleKey: "project2_title",
            descKey: "project2_desc",
          },
          3: {
            img: "gambar/koran 1.jpg",
            titleKey: "project3_title",
            descKey: "project3_desc",
          },
          4: {
            img: "gambar/desain pensi.png",
            titleKey: "project4_title",
            descKey: "project4_desc",
          },
          5: {
            img: "gambar/feeds-ig.png",
            titleKey: "project7_title",
            descKey: "project7_desc",
          },
          6: {
            img: "gambar/feeds-ig2.png",
            titleKey: "project8_title",
            descKey: "project8_desc",
          },
          7: {
            img: "gambar/instagram.png",
            titleKey: "project5_title",
            descKey: "project5_desc",
          },
          8: {
            img: "gambar/website.png",
            titleKey: "project6_title",
            descKey: "project6_desc",
          },
          9: {
            img: "gambar/petshop.png",
            titleKey: "project9_title",
            descKey: "project9_desc",
          },
        };
        const p = projects[id] || projects["1"];
        const imgEl = document.getElementById("detail-img");
        const titleEl = document.getElementById("detail-title");
        const descEl = document.getElementById("detail-desc");
        if (imgEl) imgEl.src = p.img;
        // wait a tick for translations to apply
        setTimeout(() => {
          const dict =
            window.translations &&
            window.translations[document.documentElement.lang]
              ? window.translations[document.documentElement.lang]
              : null;
          if (dict) {
            titleEl.textContent = dict[p.titleKey] || titleEl.textContent;
            descEl.textContent = dict[p.descKey] || descEl.textContent;
          } else {
            titleEl.setAttribute("data-i18n", p.titleKey);
            descEl.setAttribute("data-i18n", p.descKey);
            // applyTranslations is available in script.js
            if (typeof applyTranslations === "function")
              applyTranslations(document.documentElement.lang || "id");
          }
        }, 50);
      })();
      // minimal modal behavior for this page (keeps changes small)
      (function () {
        const img = document.getElementById("detail-img");
        const modal = document.getElementById("imgModal");
        const modalImg = document.getElementById("modalImg");
        if (!img || !modal || !modalImg) return;
        img.style.cursor = "pointer";
        img.addEventListener("click", () => {
          modalImg.src = img.src;
          modal.style.display = "flex";
          modal.classList.add("open");
          modal.setAttribute("aria-hidden", "false");
        });
        modal.addEventListener("click", () => {
          modal.classList.remove("open");
          modal.style.display = "none";
          modal.setAttribute("aria-hidden", "true");
          modalImg.src = "";
        });
      })();
    </script>
  </body>
</html>
