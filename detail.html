<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title data-i18n="page_title">Detail — Portfolio</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <header>
      <div class="container nav">
        <div class="brand">
          <div class="logo">CA</div>
          <div>
            <div style="font-weight: 700">Cintya Anjelika</div>
            <div
              style="font-size: 0.85rem; color: var(--muted); margin-top: 2px"
              data-i18n="brand_subtitle"
            >
              Desain Komunikasi Visual
            </div>
          </div>
        </div>
        <nav>
          <button class="mobile-toggle" id="navToggle">☰</button>
          <ul id="navList">
            <li><a href="base.html" data-i18n="nav_projects">Portofolio</a></li>
            <li><a href="base.html#about" data-i18n="nav_about">Tentang</a></li>
            <li>
              <a href="base.html#contact" data-i18n="nav_contact">Kontak</a>
            </li>
          </ul>
        </nav>
        <div style="display: flex; align-items: center; gap: 0.5rem">
          <label for="langSelect" class="muted" style="font-size: 0.9rem"
            >Language</label
          >
          <select id="langSelect" aria-label="Pilih bahasa">
            <option value="id">ID</option>
            <option value="en">EN</option>
          </select>
          <a
            class="cta"
            href="cv/CINTYA ANJELIKA.pdf"
            target="_blank"
            rel="noopener"
            data-i18n="cta_download_cv"
            >Unduh CV</a
          >
        </div>
      </div>
    </header>

    <main class="container">
      <a href="base.html" class="btn back-btn" data-i18n="btn_back"
        >← Kembali</a
      >
      <article class="card detail-card">
        <img id="detail-img" src="" alt="Detail image" />
        <h2 id="detail-title">Project title</h2>
        <p id="detail-desc">Project description</p>
      </article>
    </main>

    <footer>
      <div
        class="container"
        style="
          display: flex;
          justify-content: space-between;
          align-items: center;
        "
      >
        <div>&copy; <strong>Cintya Anjelika</strong> — 2025</div>
        <div class="muted" data-i18n="footer_made_with">
          Made with care • Desain Komunikasi Visual
        </div>
      </div>
    </footer>
    <!-- modal for image preview on detail page -->
    <div id="imgModal" class="modal" aria-hidden="true" style="display: none">
      <img id="modalImg" alt="Preview" />
    </div>

    <script src="js/script.js"></script>
    <script>
      // render detail based on query param id
      (function () {
        const params = new URLSearchParams(window.location.search);
        const id = params.get("id") || "1";
        // map id -> image and translation keys
        const projects = {
          1: {
            img: "gambar/reborn poster.jpg",
            titleKey: "project1_title",
            descKey: "project1_desc",
          },
          2: {
            img: "gambar/pensi mb 2026.jpg",
            titleKey: "project2_title",
            descKey: "project2_desc",
          },
          3: {
            img: "gambar/koran 1.jpg",
            titleKey: "project3_title",
            descKey: "project3_desc",
          },
        };
        const p = projects[id] || projects["1"];
        const imgEl = document.getElementById("detail-img");
        const titleEl = document.getElementById("detail-title");
        const descEl = document.getElementById("detail-desc");
        if (imgEl) imgEl.src = p.img;
        // wait a tick for translations to apply
        setTimeout(() => {
          const dict =
            window.translations &&
            window.translations[document.documentElement.lang]
              ? window.translations[document.documentElement.lang]
              : null;
          if (dict) {
            titleEl.textContent = dict[p.titleKey] || titleEl.textContent;
            descEl.textContent = dict[p.descKey] || descEl.textContent;
          } else {
            titleEl.setAttribute("data-i18n", p.titleKey);
            descEl.setAttribute("data-i18n", p.descKey);
            // applyTranslations is available in script.js
            if (typeof applyTranslations === "function")
              applyTranslations(document.documentElement.lang || "id");
          }
        }, 50);
      })();
      // minimal modal behavior for this page (keeps changes small)
      (function () {
        const img = document.getElementById("detail-img");
        const modal = document.getElementById("imgModal");
        const modalImg = document.getElementById("modalImg");
        if (!img || !modal || !modalImg) return;
        img.style.cursor = "pointer";
        img.addEventListener("click", () => {
          modalImg.src = img.src;
          modal.style.display = "flex";
          modal.classList.add("open");
          modal.setAttribute("aria-hidden", "false");
        });
        modal.addEventListener("click", () => {
          modal.classList.remove("open");
          modal.style.display = "none";
          modal.setAttribute("aria-hidden", "true");
          modalImg.src = "";
        });
      })();
    </script>
  </body>
</html>
